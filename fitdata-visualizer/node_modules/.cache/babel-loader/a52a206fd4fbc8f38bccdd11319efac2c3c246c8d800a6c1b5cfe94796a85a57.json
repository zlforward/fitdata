{"ast":null,"code":"import React,{useState,useMemo}from'react';import CurveFittingVisualization from'./CurveFittingVisualization';import PixelHeatmap from'./PixelHeatmap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DataVisualization=_ref=>{let{grayScaleData,brightnessBlocks}=_ref;const[showNormalizedData,setShowNormalizedData]=useState(false);const[activeTab,setActiveTab]=useState('center');const[heatmapDataType,setHeatmapDataType]=useState('original');// 提取中心像素值和灰阶值用于曲线拟合\nconst{centerPixelValues,grayScaleValues}=useMemo(()=>{const centerValues=brightnessBlocks.map(block=>block.centerPixelValue||0);const grayValues=grayScaleData.values.slice(0,brightnessBlocks.length);return{centerPixelValues:centerValues,grayScaleValues:grayValues};},[brightnessBlocks,grayScaleData]);// 计算归一化数据（原始数据/中心像素数据）\nconst calculateNormalizedData=block=>{if(!block.centerPixelValue||block.centerPixelValue===0){return block.data;// 如果中心像素值为0，返回原始数据\n}return block.data.map(row=>row.map(value=>value/block.centerPixelValue));};// 渲染亮度数据块的矩阵热力图\nconst renderBrightnessBlock=(block,blockIndex)=>{var _block$centerPixelVal,_block$centerPixelVal2;const currentData=showNormalizedData?calculateNormalizedData(block):block.data;const flatData=currentData.flat();const maxValue=Math.max(...flatData);const minValue=Math.min(...flatData);const avgValue=flatData.reduce((a,b)=>a+b,0)/flatData.length;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:block.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 text-sm mt-1\",children:\"32\\u5217 \\xD7 20\\u884C\\u6570\\u636E\\u77E9\\u9635\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm bg-white bg-opacity-20 rounded-lg px-3 py-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium mb-1\",children:\"\\u4E2D\\u5FC3\\u50CF\\u7D20\\u503C:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-mono text-xs\",children:((_block$centerPixelVal=block.centerPixelValue)===null||_block$centerPixelVal===void 0?void 0:_block$centerPixelVal.toFixed(6))||'N/A'})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/90 backdrop-blur-sm p-6 rounded-b-2xl shadow-xl border border-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"normalized-\".concat(blockIndex),checked:showNormalizedData,onChange:e=>setShowNormalizedData(e.target.checked),className:\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"normalized-\".concat(blockIndex),className:\"text-sm font-medium text-gray-600\",children:\"\\u663E\\u793A\\u5F52\\u4E00\\u5316\\u6570\\u636E (\\u539F\\u59CB\\u6570\\u636E/\\u4E2D\\u5FC3\\u50CF\\u7D20\\u503C)\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold mb-4 text-gray-800 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})}),showNormalizedData?'归一化数据热力图':'原始数据热力图']}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-xl p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-auto bg-white rounded-lg border-2 border-gray-200 shadow-inner\",style:{maxHeight:'600px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block min-w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex sticky top-0 z-10 mb-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-10 flex items-center justify-center text-xs font-bold text-gray-600 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 rounded-tl-lg sticky left-0 z-20\"}),Array.from({length:32},(_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-10 flex items-center justify-center text-xs font-bold text-white bg-gradient-to-r from-blue-500 to-blue-600 border border-blue-400\",children:String.fromCharCode(65+i)},i))]}),currentData.map((row,rowIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex mb-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-10 flex items-center justify-center text-xs font-bold text-white bg-gradient-to-r from-purple-500 to-purple-600 border border-purple-400 sticky left-0 z-10\",children:block.startRow+rowIndex}),row.map((value,colIndex)=>{const isCenter=rowIndex===9&&colIndex===15;// 中心像素位置\n// 计算颜色强度 (0-1)\nconst intensity=maxValue>minValue?(value-minValue)/(maxValue-minValue):0;const backgroundColor=value===0?'#f8fafc':\"rgba(59, 130, 246, \".concat(0.1+intensity*0.8,\")\");// 蓝色渐变\nconst textColor=intensity>0.7?'#ffffff':'#1e293b';// 智能数值显示格式\nconst displayValue=value===0?'':Math.abs(value)>=1000?value.toExponential(2):Math.abs(value)>=1?value.toFixed(2):Math.abs(value)>=0.01?value.toFixed(4):value.toExponential(2);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-12 h-10 flex items-center justify-center text-xs border cursor-pointer hover:border-blue-500 hover:shadow-lg transition-all duration-200 hover:scale-110 hover:z-30 relative group \".concat(isCenter?'border-red-500 border-2 ring-2 ring-red-200':'border-gray-300'),style:{backgroundColor,color:textColor},children:[value!==0&&/*#__PURE__*/_jsx(\"span\",{className:\"font-mono font-semibold text-center leading-tight\",style:{fontSize:'10px'},children:displayValue}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-40\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-semibold\",children:[\"\\u4F4D\\u7F6E: \",String.fromCharCode(65+colIndex),block.startRow+rowIndex,\" \",isCenter?'(中心像素)':'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-mono\",children:[\"\\u503C: \",value.toFixed(6)]}),showNormalizedData&&/*#__PURE__*/_jsxs(\"div\",{className:\"font-mono text-yellow-300\",children:[\"\\u539F\\u59CB\\u503C: \",block.data[rowIndex][colIndex].toFixed(6)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-300\",children:[\"\\u5F3A\\u5EA6: \",(intensity*100).toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"})]})]},\"\".concat(rowIndex,\"-\").concat(colIndex));})]},rowIndex))]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-md font-semibold mb-4 text-gray-800 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-2 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})}),showNormalizedData?'归一化数据统计':'原始数据统计']}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-white rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-gray-500 mb-1\",children:\"\\u6700\\u5C0F\\u503C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-mono text-lg font-bold text-red-600\",children:minValue.toFixed(6)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-white rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-gray-500 mb-1\",children:\"\\u6700\\u5927\\u503C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-mono text-lg font-bold text-green-600\",children:maxValue.toFixed(6)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-white rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-gray-500 mb-1\",children:\"\\u5E73\\u5747\\u503C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-mono text-lg font-bold text-blue-600\",children:avgValue.toFixed(6)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-white rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-gray-500 mb-1\",children:\"\\u4E2D\\u5FC3\\u50CF\\u7D20\\u503C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-mono text-lg font-bold text-purple-600\",children:((_block$centerPixelVal2=block.centerPixelValue)===null||_block$centerPixelVal2===void 0?void 0:_block$centerPixelVal2.toFixed(6))||'N/A'})]})]})]})]})]},blockIndex);};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('center'),className:\"px-4 py-2 font-medium text-sm rounded-t-lg transition-colors \".concat(activeTab==='center'?'bg-blue-500 text-white border-b-2 border-blue-500':'text-gray-600 hover:text-blue-500 hover:bg-gray-50'),children:\"\\u4E2D\\u5FC3\\u50CF\\u7D20\\u62DF\\u5408\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('heatmap'),className:\"px-4 py-2 font-medium text-sm rounded-t-lg transition-colors \".concat(activeTab==='heatmap'?'bg-blue-500 text-white border-b-2 border-blue-500':'text-gray-600 hover:text-blue-500 hover:bg-gray-50'),children:\"\\u50CF\\u7D20\\u70ED\\u529B\\u56FE\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('grayscale'),className:\"px-4 py-2 font-medium text-sm rounded-t-lg transition-colors \".concat(activeTab==='grayscale'?'bg-blue-500 text-white border-b-2 border-blue-500':'text-gray-600 hover:text-blue-500 hover:bg-gray-50'),children:\"\\u7070\\u9636\\u66F2\\u7EBF\\u6570\\u636E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('datablock'),className:\"px-4 py-2 font-medium text-sm rounded-t-lg transition-colors \".concat(activeTab==='datablock'?'bg-blue-500 text-white border-b-2 border-blue-500':'text-gray-600 hover:text-blue-500 hover:bg-gray-50'),children:\"\\u6570\\u636E\\u5757\\u663E\\u793A\"})]}),activeTab==='heatmap'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"\\u6570\\u636E\\u7C7B\\u578B:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setHeatmapDataType('original'),className:\"px-3 py-1 text-sm rounded-md transition-colors \".concat(heatmapDataType==='original'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:\"\\u539F\\u59CB\\u6570\\u636E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setHeatmapDataType('normalized'),className:\"px-3 py-1 text-sm rounded-md transition-colors \".concat(heatmapDataType==='normalized'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:\"\\u5F52\\u4E00\\u5316\\u6570\\u636E\"})]})]})]}),activeTab==='center'&&/*#__PURE__*/_jsx(CurveFittingVisualization,{centerPixelValues:centerPixelValues,grayScaleValues:grayScaleValues,brightnessBlocks:brightnessBlocks}),activeTab==='heatmap'&&/*#__PURE__*/_jsx(PixelHeatmap,{brightnessBlocks:brightnessBlocks,grayScaleValues:grayScaleValues,dataType:heatmapDataType,onPositionSelect:(row,col)=>{console.log(\"\\u9009\\u4E2D\\u4F4D\\u7F6E: (\".concat(row,\", \").concat(col,\")\"));}}),activeTab==='datablock'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u6570\\u636E\\u5757\\u663E\\u793A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"\\u663E\\u793A\\u6570\\u636E\\u7C7B\\u578B:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNormalizedData(false),className:\"px-3 py-1 text-sm rounded-md transition-colors \".concat(!showNormalizedData?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:\"\\u539F\\u59CB\\u6570\\u636E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNormalizedData(true),className:\"px-3 py-1 text-sm rounded-md transition-colors \".concat(showNormalizedData?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:\"\\u5F52\\u4E00\\u5316\\u6570\\u636E\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-8\",children:brightnessBlocks.map((block,index)=>renderBrightnessBlock(block,index))})]}),activeTab==='grayscale'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u7070\\u9636\\u66F2\\u7EBF\\u6570\\u636E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-3\",children:\"\\u7070\\u9636\\u503C\\u5E8F\\u5217\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-8 gap-2 text-sm\",children:grayScaleValues.map((value,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-2 rounded border text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"#\",index+1]}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:value.toFixed(2)})]},index))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-3\",children:\"\\u7070\\u9636\\u53D8\\u5316\\u66F2\\u7EBF\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"100%\",height:\"300\",viewBox:\"0 0 800 300\",className:\"border border-gray-200 bg-white\",children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsx(\"pattern\",{id:\"grayscale-grid\",width:\"40\",height:\"30\",patternUnits:\"userSpaceOnUse\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M 40 0 L 0 0 0 30\",fill:\"none\",stroke:\"#f3f4f6\",strokeWidth:\"1\"})})}),/*#__PURE__*/_jsx(\"rect\",{width:\"100%\",height:\"100%\",fill:\"url(#grayscale-grid)\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"40\",y1:\"20\",x2:\"40\",y2:\"280\",stroke:\"#374151\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"40\",y1:\"280\",x2:\"760\",y2:\"280\",stroke:\"#374151\",strokeWidth:\"2\"}),grayScaleValues.length>1&&(()=>{const minValue=Math.min(...grayScaleValues);const maxValue=Math.max(...grayScaleValues);const valueRange=maxValue-minValue||1;const xStep=720/(grayScaleValues.length-1);const pathData=grayScaleValues.map((value,index)=>{const x=40+index*xStep;const y=280-(value-minValue)/valueRange*260;return\"\".concat(index===0?'M':'L',\" \").concat(x,\" \").concat(y);}).join(' ');return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"path\",{d:pathData,fill:\"none\",stroke:\"#3b82f6\",strokeWidth:\"3\"}),grayScaleValues.map((value,index)=>{const x=40+index*xStep;const y=280-(value-minValue)/valueRange*260;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:x,cy:y,r:\"4\",fill:\"#3b82f6\",stroke:\"white\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"title\",{children:\"\\u6570\\u636E\\u70B9 \".concat(index+1,\": \").concat(value.toFixed(2))})]},index);}),[0,0.25,0.5,0.75,1].map(ratio=>{const value=minValue+ratio*valueRange;const y=280-ratio*260;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{x1:\"35\",y1:y,x2:\"45\",y2:y,stroke:\"#374151\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"text\",{x:\"30\",y:y+4,textAnchor:\"end\",className:\"text-xs fill-gray-600\",children:value.toFixed(1)})]},ratio);}),grayScaleValues.map((_,index)=>{if(index%Math.ceil(grayScaleValues.length/10)===0){const x=40+index*xStep;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{x1:x,y1:\"275\",x2:x,y2:\"285\",stroke:\"#374151\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"text\",{x:x,y:\"295\",textAnchor:\"middle\",className:\"text-xs fill-gray-600\",children:index+1})]},index);}return null;})]});})(),/*#__PURE__*/_jsx(\"text\",{x:\"400\",y:\"295\",textAnchor:\"middle\",className:\"text-sm fill-gray-600\",children:\"\\u6570\\u636E\\u70B9\\u5E8F\\u53F7\"}),/*#__PURE__*/_jsx(\"text\",{x:\"20\",y:\"150\",textAnchor:\"middle\",className:\"text-sm fill-gray-600\",transform:\"rotate(-90 20 150)\",children:\"\\u7070\\u9636\\u503C\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-600 font-medium\",children:\"\\u6570\\u636E\\u70B9\\u6570\\u91CF\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-blue-800\",children:grayScaleValues.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600 font-medium\",children:\"\\u6700\\u5C0F\\u503C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-green-800\",children:grayScaleValues.length>0?Math.min(...grayScaleValues).toFixed(2):'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-red-600 font-medium\",children:\"\\u6700\\u5927\\u503C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-red-800\",children:grayScaleValues.length>0?Math.max(...grayScaleValues).toFixed(2):'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-purple-600 font-medium\",children:\"\\u5E73\\u5747\\u503C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-purple-800\",children:grayScaleValues.length>0?(grayScaleValues.reduce((a,b)=>a+b,0)/grayScaleValues.length).toFixed(2):'N/A'})]})]})]})]});};export default DataVisualization;","map":{"version":3,"names":["React","useState","useMemo","CurveFittingVisualization","PixelHeatmap","jsx","_jsx","jsxs","_jsxs","DataVisualization","_ref","grayScaleData","brightnessBlocks","showNormalizedData","setShowNormalizedData","activeTab","setActiveTab","heatmapDataType","setHeatmapDataType","centerPixelValues","grayScaleValues","centerValues","map","block","centerPixelValue","grayValues","values","slice","length","calculateNormalizedData","data","row","value","renderBrightnessBlock","blockIndex","_block$centerPixelVal","_block$centerPixelVal2","currentData","flatData","flat","maxValue","Math","max","minValue","min","avgValue","reduce","a","b","className","children","label","toFixed","type","id","concat","checked","onChange","e","target","htmlFor","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","style","maxHeight","Array","from","_","i","String","fromCharCode","rowIndex","startRow","colIndex","isCenter","intensity","backgroundColor","textColor","displayValue","abs","toExponential","color","fontSize","onClick","dataType","onPositionSelect","col","console","log","index","width","height","patternUnits","x1","y1","x2","y2","valueRange","xStep","pathData","x","y","join","cx","cy","r","ratio","textAnchor","ceil","transform"],"sources":["D:/source/fitdata/fitdata-visualizer/src/components/DataVisualization.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { GrayScaleData, BrightnessBlock } from '../utils/dataParser';\nimport CurveFittingVisualization from './CurveFittingVisualization';\nimport PixelHeatmap from './PixelHeatmap';\n\ninterface DataVisualizationProps {\n  grayScaleData: GrayScaleData;\n  brightnessBlocks: BrightnessBlock[];\n}\n\nconst DataVisualization: React.FC<DataVisualizationProps> = ({ grayScaleData, brightnessBlocks }) => {\n  const [showNormalizedData, setShowNormalizedData] = useState(false);\n  const [activeTab, setActiveTab] = useState<'center' | 'heatmap' | 'grayscale' | 'datablock'>('center');\n  const [heatmapDataType, setHeatmapDataType] = useState<'original' | 'normalized'>('original');\n  \n  // 提取中心像素值和灰阶值用于曲线拟合\n  const { centerPixelValues, grayScaleValues } = useMemo(() => {\n    const centerValues = brightnessBlocks.map(block => block.centerPixelValue || 0);\n    const grayValues = grayScaleData.values.slice(0, brightnessBlocks.length);\n    return {\n      centerPixelValues: centerValues,\n      grayScaleValues: grayValues\n    };\n  }, [brightnessBlocks, grayScaleData]);\n\n  // 计算归一化数据（原始数据/中心像素数据）\n  const calculateNormalizedData = (block: BrightnessBlock) => {\n    if (!block.centerPixelValue || block.centerPixelValue === 0) {\n      return block.data; // 如果中心像素值为0，返回原始数据\n    }\n    return block.data.map(row => \n      row.map(value => value / block.centerPixelValue!)\n    );\n  };\n\n\n\n  // 渲染亮度数据块的矩阵热力图\n  const renderBrightnessBlock = (block: BrightnessBlock, blockIndex: number) => {\n    const currentData = showNormalizedData ? calculateNormalizedData(block) : block.data;\n    const flatData = currentData.flat();\n    const maxValue = Math.max(...flatData);\n    const minValue = Math.min(...flatData);\n    const avgValue = flatData.reduce((a: number, b: number) => a + b, 0) / flatData.length;\n    \n    return (\n      <div key={blockIndex} className=\"mb-12\">\n        <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-2xl\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-xl font-bold\">{block.label}</h3>\n              <p className=\"text-blue-100 text-sm mt-1\">32列 × 20行数据矩阵</p>\n            </div>\n            <div className=\"text-sm bg-white bg-opacity-20 rounded-lg px-3 py-2\">\n              <div className=\"font-medium mb-1\">中心像素值:</div>\n              <div className=\"font-mono text-xs\">{block.centerPixelValue?.toFixed(6) || 'N/A'}</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white/90 backdrop-blur-sm p-6 rounded-b-2xl shadow-xl border border-gray-100\">\n          {/* 数据显示模式切换 */}\n          <div className=\"mb-6\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-2\">\n                <input \n                  type=\"checkbox\" \n                  id={`normalized-${blockIndex}`}\n                  checked={showNormalizedData}\n                  onChange={(e) => setShowNormalizedData(e.target.checked)}\n                  className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2\"\n                />\n                <label htmlFor={`normalized-${blockIndex}`} className=\"text-sm font-medium text-gray-600\">\n                  显示归一化数据 (原始数据/中心像素值)\n                </label>\n              </div>\n            </div>\n          </div>\n\n          {/* 矩阵热力图 */}\n          <div className=\"mb-6\">\n            <h4 className=\"text-lg font-semibold mb-4 text-gray-800 flex items-center\">\n              <svg className=\"w-5 h-5 mr-2 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n              </svg>\n              {showNormalizedData ? '归一化数据热力图' : '原始数据热力图'}\n            </h4>\n            <div className=\"bg-gray-50 rounded-xl p-6\">\n              <div className=\"overflow-auto bg-white rounded-lg border-2 border-gray-200 shadow-inner\" style={{ maxHeight: '600px' }}>\n                <div className=\"inline-block min-w-full\">\n                  {/* 列标题 */}\n                  <div className=\"flex sticky top-0 z-10 mb-1\">\n                    <div className=\"w-12 h-10 flex items-center justify-center text-xs font-bold text-gray-600 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 rounded-tl-lg sticky left-0 z-20\"></div>\n                    {Array.from({ length: 32 }, (_, i) => (\n                      <div key={i} className=\"w-12 h-10 flex items-center justify-center text-xs font-bold text-white bg-gradient-to-r from-blue-500 to-blue-600 border border-blue-400\">\n                        {String.fromCharCode(65 + i)}\n                      </div>\n                    ))}\n                  </div>\n                  {/* 矩阵数据 */}\n                  {currentData.map((row, rowIndex) => (\n                    <div key={rowIndex} className=\"flex mb-1\">\n                      {/* 行标题 */}\n                      <div className=\"w-12 h-10 flex items-center justify-center text-xs font-bold text-white bg-gradient-to-r from-purple-500 to-purple-600 border border-purple-400 sticky left-0 z-10\">\n                        {block.startRow + rowIndex}\n                      </div>\n                      {/* 数据单元格 */}\n                      {row.map((value, colIndex) => {\n                        const isCenter = rowIndex === 9 && colIndex === 15; // 中心像素位置\n                        // 计算颜色强度 (0-1)\n                        const intensity = maxValue > minValue ? (value - minValue) / (maxValue - minValue) : 0;\n                        const backgroundColor = value === 0 \n                          ? '#f8fafc' \n                          : `rgba(59, 130, 246, ${0.1 + intensity * 0.8})`; // 蓝色渐变\n                        const textColor = intensity > 0.7 ? '#ffffff' : '#1e293b';\n                        \n                        // 智能数值显示格式\n                        const displayValue = value === 0 ? '' : \n                          Math.abs(value) >= 1000 ? value.toExponential(2) :\n                          Math.abs(value) >= 1 ? value.toFixed(2) :\n                          Math.abs(value) >= 0.01 ? value.toFixed(4) :\n                          value.toExponential(2);\n                        \n                        return (\n                          <div\n                            key={`${rowIndex}-${colIndex}`}\n                            className={`w-12 h-10 flex items-center justify-center text-xs border cursor-pointer hover:border-blue-500 hover:shadow-lg transition-all duration-200 hover:scale-110 hover:z-30 relative group ${\n                              isCenter ? 'border-red-500 border-2 ring-2 ring-red-200' : 'border-gray-300'\n                            }`}\n                            style={{ backgroundColor, color: textColor }}\n                          >\n                            {/* 数值显示 */}\n                            {value !== 0 && (\n                              <span className=\"font-mono font-semibold text-center leading-tight\" style={{ fontSize: '10px' }}>\n                                {displayValue}\n                              </span>\n                            )}\n                            \n                            {/* 悬停提示框 */}\n                            <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-40\">\n                              <div className=\"font-semibold\">位置: {String.fromCharCode(65 + colIndex)}{block.startRow + rowIndex} {isCenter ? '(中心像素)' : ''}</div>\n                              <div className=\"font-mono\">值: {value.toFixed(6)}</div>\n                              {showNormalizedData && (\n                                <div className=\"font-mono text-yellow-300\">原始值: {block.data[rowIndex][colIndex].toFixed(6)}</div>\n                              )}\n                              <div className=\"text-gray-300\">强度: {(intensity * 100).toFixed(1)}%</div>\n                              {/* 箭头 */}\n                              <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"></div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* 数据统计 */}\n          <div className=\"mt-8\">\n            <h5 className=\"text-md font-semibold mb-4 text-gray-800 flex items-center\">\n              <svg className=\"w-4 h-4 mr-2 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n              </svg>\n              {showNormalizedData ? '归一化数据统计' : '原始数据统计'}\n            </h5>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-200\">\n              <div className=\"text-center p-3 bg-white rounded-lg shadow-sm\">\n                <div className=\"text-xs font-medium text-gray-500 mb-1\">最小值</div>\n                <div className=\"font-mono text-lg font-bold text-red-600\">{minValue.toFixed(6)}</div>\n              </div>\n              <div className=\"text-center p-3 bg-white rounded-lg shadow-sm\">\n                <div className=\"text-xs font-medium text-gray-500 mb-1\">最大值</div>\n                <div className=\"font-mono text-lg font-bold text-green-600\">{maxValue.toFixed(6)}</div>\n              </div>\n              <div className=\"text-center p-3 bg-white rounded-lg shadow-sm\">\n                <div className=\"text-xs font-medium text-gray-500 mb-1\">平均值</div>\n                <div className=\"font-mono text-lg font-bold text-blue-600\">{avgValue.toFixed(6)}</div>\n              </div>\n              <div className=\"text-center p-3 bg-white rounded-lg shadow-sm\">\n                <div className=\"text-xs font-medium text-gray-500 mb-1\">中心像素值</div>\n                <div className=\"font-mono text-lg font-bold text-purple-600\">{block.centerPixelValue?.toFixed(6) || 'N/A'}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* 标签页导航 */}\n      <div className=\"bg-white rounded-lg shadow-lg p-4\">\n        <div className=\"flex space-x-4 border-b border-gray-200\">\n          <button\n            onClick={() => setActiveTab('center')}\n            className={`px-4 py-2 font-medium text-sm rounded-t-lg transition-colors ${\n              activeTab === 'center'\n                ? 'bg-blue-500 text-white border-b-2 border-blue-500'\n                : 'text-gray-600 hover:text-blue-500 hover:bg-gray-50'\n            }`}\n          >\n            中心像素拟合\n          </button>\n          <button\n            onClick={() => setActiveTab('heatmap')}\n            className={`px-4 py-2 font-medium text-sm rounded-t-lg transition-colors ${\n              activeTab === 'heatmap'\n                ? 'bg-blue-500 text-white border-b-2 border-blue-500'\n                : 'text-gray-600 hover:text-blue-500 hover:bg-gray-50'\n            }`}\n          >\n            像素热力图\n          </button>\n          <button\n            onClick={() => setActiveTab('grayscale')}\n            className={`px-4 py-2 font-medium text-sm rounded-t-lg transition-colors ${\n              activeTab === 'grayscale'\n                ? 'bg-blue-500 text-white border-b-2 border-blue-500'\n                : 'text-gray-600 hover:text-blue-500 hover:bg-gray-50'\n            }`}\n          >\n            灰阶曲线数据\n          </button>\n          <button\n            onClick={() => setActiveTab('datablock')}\n            className={`px-4 py-2 font-medium text-sm rounded-t-lg transition-colors ${\n              activeTab === 'datablock'\n                ? 'bg-blue-500 text-white border-b-2 border-blue-500'\n                : 'text-gray-600 hover:text-blue-500 hover:bg-gray-50'\n            }`}\n          >\n            数据块显示\n          </button>\n        </div>\n        \n        {/* 热力图数据类型选择 */}\n        {activeTab === 'heatmap' && (\n          <div className=\"mt-4 flex items-center gap-4\">\n            <span className=\"text-sm font-medium text-gray-700\">数据类型:</span>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setHeatmapDataType('original')}\n                className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                  heatmapDataType === 'original'\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                原始数据\n              </button>\n              <button\n                onClick={() => setHeatmapDataType('normalized')}\n                className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                  heatmapDataType === 'normalized'\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                归一化数据\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* 内容区域 */}\n      {activeTab === 'center' && (\n        <CurveFittingVisualization \n          centerPixelValues={centerPixelValues}\n          grayScaleValues={grayScaleValues}\n          brightnessBlocks={brightnessBlocks}\n        />\n      )}\n      \n      {activeTab === 'heatmap' && (\n        <PixelHeatmap\n          brightnessBlocks={brightnessBlocks}\n          grayScaleValues={grayScaleValues}\n          dataType={heatmapDataType}\n          onPositionSelect={(row, col) => {\n            console.log(`选中位置: (${row}, ${col})`);\n          }}\n        />\n      )}\n      \n      {activeTab === 'datablock' && (\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">数据块显示</h3>\n          \n          {/* 数据类型切换 */}\n          <div className=\"mb-6 flex items-center gap-4\">\n            <span className=\"text-sm font-medium text-gray-700\">显示数据类型:</span>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setShowNormalizedData(false)}\n                className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                  !showNormalizedData\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                原始数据\n              </button>\n              <button\n                onClick={() => setShowNormalizedData(true)}\n                className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                  showNormalizedData\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                归一化数据\n              </button>\n            </div>\n          </div>\n          \n          {/* 数据块列表 */}\n          <div className=\"space-y-8\">\n            {brightnessBlocks.map((block, index) => renderBrightnessBlock(block, index))}\n          </div>\n        </div>\n      )}\n      \n      {activeTab === 'grayscale' && (\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">灰阶曲线数据</h3>\n          \n          {/* 灰阶数据表格 */}\n          <div className=\"mb-6\">\n            <h4 className=\"font-medium mb-3\">灰阶值序列</h4>\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\n              <div className=\"grid grid-cols-8 gap-2 text-sm\">\n                {grayScaleValues.map((value, index) => (\n                  <div key={index} className=\"bg-white p-2 rounded border text-center\">\n                    <div className=\"text-xs text-gray-500\">#{index + 1}</div>\n                    <div className=\"font-medium\">{value.toFixed(2)}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n          \n          {/* 灰阶曲线图 */}\n          <div className=\"mb-4\">\n            <h4 className=\"font-medium mb-3\">灰阶变化曲线</h4>\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\n              <svg width=\"100%\" height=\"300\" viewBox=\"0 0 800 300\" className=\"border border-gray-200 bg-white\">\n                {/* 网格线 */}\n                <defs>\n                  <pattern id=\"grayscale-grid\" width=\"40\" height=\"30\" patternUnits=\"userSpaceOnUse\">\n                    <path d=\"M 40 0 L 0 0 0 30\" fill=\"none\" stroke=\"#f3f4f6\" strokeWidth=\"1\"/>\n                  </pattern>\n                </defs>\n                <rect width=\"100%\" height=\"100%\" fill=\"url(#grayscale-grid)\" />\n                \n                {/* 坐标轴 */}\n                <line x1=\"40\" y1=\"20\" x2=\"40\" y2=\"280\" stroke=\"#374151\" strokeWidth=\"2\" />\n                <line x1=\"40\" y1=\"280\" x2=\"760\" y2=\"280\" stroke=\"#374151\" strokeWidth=\"2\" />\n                \n                {/* 灰阶曲线 */}\n                {grayScaleValues.length > 1 && (() => {\n                  const minValue = Math.min(...grayScaleValues);\n                  const maxValue = Math.max(...grayScaleValues);\n                  const valueRange = maxValue - minValue || 1;\n                  const xStep = 720 / (grayScaleValues.length - 1);\n                  \n                  const pathData = grayScaleValues.map((value, index) => {\n                    const x = 40 + index * xStep;\n                    const y = 280 - ((value - minValue) / valueRange) * 260;\n                    return `${index === 0 ? 'M' : 'L'} ${x} ${y}`;\n                  }).join(' ');\n                  \n                  return (\n                    <g>\n                      {/* 曲线 */}\n                      <path d={pathData} fill=\"none\" stroke=\"#3b82f6\" strokeWidth=\"3\" />\n                      \n                      {/* 数据点 */}\n                      {grayScaleValues.map((value, index) => {\n                        const x = 40 + index * xStep;\n                        const y = 280 - ((value - minValue) / valueRange) * 260;\n                        return (\n                          <g key={index}>\n                            <circle cx={x} cy={y} r=\"4\" fill=\"#3b82f6\" stroke=\"white\" strokeWidth=\"2\" />\n                            <title>{`数据点 ${index + 1}: ${value.toFixed(2)}`}</title>\n                          </g>\n                        );\n                      })}\n                      \n                      {/* Y轴刻度 */}\n                      {[0, 0.25, 0.5, 0.75, 1].map(ratio => {\n                        const value = minValue + ratio * valueRange;\n                        const y = 280 - ratio * 260;\n                        return (\n                          <g key={ratio}>\n                            <line x1=\"35\" y1={y} x2=\"45\" y2={y} stroke=\"#374151\" strokeWidth=\"1\" />\n                            <text x=\"30\" y={y + 4} textAnchor=\"end\" className=\"text-xs fill-gray-600\">\n                              {value.toFixed(1)}\n                            </text>\n                          </g>\n                        );\n                      })}\n                      \n                      {/* X轴刻度 */}\n                      {grayScaleValues.map((_, index) => {\n                        if (index % Math.ceil(grayScaleValues.length / 10) === 0) {\n                          const x = 40 + index * xStep;\n                          return (\n                            <g key={index}>\n                              <line x1={x} y1=\"275\" x2={x} y2=\"285\" stroke=\"#374151\" strokeWidth=\"1\" />\n                              <text x={x} y=\"295\" textAnchor=\"middle\" className=\"text-xs fill-gray-600\">\n                                {index + 1}\n                              </text>\n                            </g>\n                          );\n                        }\n                        return null;\n                      })}\n                    </g>\n                  );\n                })()}\n                \n                {/* 坐标轴标签 */}\n                <text x=\"400\" y=\"295\" textAnchor=\"middle\" className=\"text-sm fill-gray-600\">\n                  数据点序号\n                </text>\n                <text x=\"20\" y=\"150\" textAnchor=\"middle\" className=\"text-sm fill-gray-600\" transform=\"rotate(-90 20 150)\">\n                  灰阶值\n                </text>\n              </svg>\n            </div>\n          </div>\n          \n          {/* 统计信息 */}\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"bg-blue-50 p-3 rounded-lg\">\n              <div className=\"text-sm text-blue-600 font-medium\">数据点数量</div>\n              <div className=\"text-lg font-bold text-blue-800\">{grayScaleValues.length}</div>\n            </div>\n            <div className=\"bg-green-50 p-3 rounded-lg\">\n              <div className=\"text-sm text-green-600 font-medium\">最小值</div>\n              <div className=\"text-lg font-bold text-green-800\">\n                {grayScaleValues.length > 0 ? Math.min(...grayScaleValues).toFixed(2) : 'N/A'}\n              </div>\n            </div>\n            <div className=\"bg-red-50 p-3 rounded-lg\">\n              <div className=\"text-sm text-red-600 font-medium\">最大值</div>\n              <div className=\"text-lg font-bold text-red-800\">\n                {grayScaleValues.length > 0 ? Math.max(...grayScaleValues).toFixed(2) : 'N/A'}\n              </div>\n            </div>\n            <div className=\"bg-purple-50 p-3 rounded-lg\">\n              <div className=\"text-sm text-purple-600 font-medium\">平均值</div>\n              <div className=\"text-lg font-bold text-purple-800\">\n                {grayScaleValues.length > 0 \n                  ? (grayScaleValues.reduce((a, b) => a + b, 0) / grayScaleValues.length).toFixed(2) \n                  : 'N/A'\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DataVisualization;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
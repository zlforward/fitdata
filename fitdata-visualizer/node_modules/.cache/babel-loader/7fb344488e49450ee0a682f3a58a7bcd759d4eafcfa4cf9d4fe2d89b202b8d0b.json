{"ast":null,"code":"var _jsxFileName = \"D:\\\\source\\\\fitdata\\\\fitdata-visualizer\\\\src\\\\components\\\\DataVisualization.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport CurveFittingVisualization from './CurveFittingVisualization';\nimport PixelHeatmap from './PixelHeatmap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DataVisualization = ({\n  grayScaleData,\n  brightnessBlocks\n}) => {\n  _s();\n  const [showNormalizedData, setShowNormalizedData] = useState(false);\n  const [activeTab, setActiveTab] = useState('center');\n  const [heatmapDataType, setHeatmapDataType] = useState('original');\n\n  // 提取中心像素值和灰阶值用于曲线拟合\n  const {\n    centerPixelValues,\n    grayScaleValues\n  } = useMemo(() => {\n    const centerValues = brightnessBlocks.map(block => block.centerPixelValue || 0);\n    const grayValues = grayScaleData.values.slice(0, brightnessBlocks.length);\n    return {\n      centerPixelValues: centerValues,\n      grayScaleValues: grayValues\n    };\n  }, [brightnessBlocks, grayScaleData]);\n\n  // 计算归一化数据（原始数据/中心像素数据）\n  const calculateNormalizedData = block => {\n    if (!block.centerPixelValue || block.centerPixelValue === 0) {\n      return block.data; // 如果中心像素值为0，返回原始数据\n    }\n    return block.data.map(row => row.map(value => value / block.centerPixelValue));\n  };\n\n  // 准备灰阶数据用于图表显示\n  const grayScaleChartData = grayScaleData.values.map((value, index) => ({\n    index: index + 1,\n    value,\n    position: grayScaleData.positions[index]\n  }));\n\n  // 渲染亮度数据块的矩阵热力图\n  const renderBrightnessBlock = (block, blockIndex) => {\n    var _block$centerPixelVal, _block$centerPixelVal2;\n    const currentData = showNormalizedData ? calculateNormalizedData(block) : block.data;\n    const flatData = currentData.flat();\n    const maxValue = Math.max(...flatData);\n    const minValue = Math.min(...flatData);\n    const avgValue = flatData.reduce((a, b) => a + b, 0) / flatData.length;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-2xl\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold\",\n              children: block.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-blue-100 text-sm mt-1\",\n              children: \"32\\u5217 \\xD7 20\\u884C\\u6570\\u636E\\u77E9\\u9635\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm bg-white bg-opacity-20 rounded-lg px-3 py-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium mb-1\",\n              children: \"\\u4E2D\\u5FC3\\u50CF\\u7D20\\u503C:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-mono text-xs\",\n              children: ((_block$centerPixelVal = block.centerPixelValue) === null || _block$centerPixelVal === void 0 ? void 0 : _block$centerPixelVal.toFixed(6)) || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/90 backdrop-blur-sm p-6 rounded-b-2xl shadow-xl border border-gray-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: `normalized-${blockIndex}`,\n                checked: showNormalizedData,\n                onChange: e => setShowNormalizedData(e.target.checked),\n                className: \"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: `normalized-${blockIndex}`,\n                className: \"text-sm font-medium text-gray-600\",\n                children: \"\\u663E\\u793A\\u5F52\\u4E00\\u5316\\u6570\\u636E (\\u539F\\u59CB\\u6570\\u636E/\\u4E2D\\u5FC3\\u50CF\\u7D20\\u503C)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-lg font-semibold mb-4 text-gray-800 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5 mr-2 text-blue-600\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), showNormalizedData ? '归一化数据热力图' : '原始数据热力图']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 rounded-xl p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-auto bg-white rounded-lg border-2 border-gray-200 shadow-inner\",\n              style: {\n                maxHeight: '600px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inline-block min-w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex sticky top-0 z-10 mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-12 h-10 flex items-center justify-center text-xs font-bold text-gray-600 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 rounded-tl-lg sticky left-0 z-20\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 21\n                  }, this), Array.from({\n                    length: 32\n                  }, (_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-12 h-10 flex items-center justify-center text-xs font-bold text-white bg-gradient-to-r from-blue-500 to-blue-600 border border-blue-400\",\n                    children: String.fromCharCode(65 + i)\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this), currentData.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-12 h-10 flex items-center justify-center text-xs font-bold text-white bg-gradient-to-r from-purple-500 to-purple-600 border border-purple-400 sticky left-0 z-10\",\n                    children: block.startRow + rowIndex\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 23\n                  }, this), row.map((value, colIndex) => {\n                    const isCenter = rowIndex === 9 && colIndex === 15; // 中心像素位置\n                    // 计算颜色强度 (0-1)\n                    const intensity = maxValue > minValue ? (value - minValue) / (maxValue - minValue) : 0;\n                    const backgroundColor = value === 0 ? '#f8fafc' : `rgba(59, 130, 246, ${0.1 + intensity * 0.8})`; // 蓝色渐变\n                    const textColor = intensity > 0.7 ? '#ffffff' : '#1e293b';\n\n                    // 智能数值显示格式\n                    const displayValue = value === 0 ? '' : Math.abs(value) >= 1000 ? value.toExponential(2) : Math.abs(value) >= 1 ? value.toFixed(2) : Math.abs(value) >= 0.01 ? value.toFixed(4) : value.toExponential(2);\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `w-12 h-10 flex items-center justify-center text-xs border cursor-pointer hover:border-blue-500 hover:shadow-lg transition-all duration-200 hover:scale-110 hover:z-30 relative group ${isCenter ? 'border-red-500 border-2 ring-2 ring-red-200' : 'border-gray-300'}`,\n                      style: {\n                        backgroundColor,\n                        color: textColor\n                      },\n                      children: [value !== 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-mono font-semibold text-center leading-tight\",\n                        style: {\n                          fontSize: '10px'\n                        },\n                        children: displayValue\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 139,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-40\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-semibold\",\n                          children: [\"\\u4F4D\\u7F6E: \", String.fromCharCode(65 + colIndex), block.startRow + rowIndex, \" \", isCenter ? '(中心像素)' : '']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 146,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-mono\",\n                          children: [\"\\u503C: \", value.toFixed(6)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 147,\n                          columnNumber: 31\n                        }, this), showNormalizedData && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-mono text-yellow-300\",\n                          children: [\"\\u539F\\u59CB\\u503C: \", block.data[rowIndex][colIndex].toFixed(6)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 149,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-gray-300\",\n                          children: [\"\\u5F3A\\u5EA6: \", (intensity * 100).toFixed(1), \"%\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 151,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 153,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 29\n                      }, this)]\n                    }, `${rowIndex}-${colIndex}`, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 27\n                    }, this);\n                  })]\n                }, rowIndex, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-md font-semibold mb-4 text-gray-800 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4 mr-2 text-green-600\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), showNormalizedData ? '归一化数据统计' : '原始数据统计']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-3 bg-white rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-medium text-gray-500 mb-1\",\n                children: \"\\u6700\\u5C0F\\u503C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-lg font-bold text-red-600\",\n                children: minValue.toFixed(6)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-3 bg-white rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-medium text-gray-500 mb-1\",\n                children: \"\\u6700\\u5927\\u503C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-lg font-bold text-green-600\",\n                children: maxValue.toFixed(6)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-3 bg-white rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-medium text-gray-500 mb-1\",\n                children: \"\\u5E73\\u5747\\u503C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-lg font-bold text-blue-600\",\n                children: avgValue.toFixed(6)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-3 bg-white rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-medium text-gray-500 mb-1\",\n                children: \"\\u4E2D\\u5FC3\\u50CF\\u7D20\\u503C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono text-lg font-bold text-purple-600\",\n                children: ((_block$centerPixelVal2 = block.centerPixelValue) === null || _block$centerPixelVal2 === void 0 ? void 0 : _block$centerPixelVal2.toFixed(6)) || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, blockIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('center'),\n          className: `px-4 py-2 font-medium text-sm rounded-t-lg transition-colors ${activeTab === 'center' ? 'bg-blue-500 text-white border-b-2 border-blue-500' : 'text-gray-600 hover:text-blue-500 hover:bg-gray-50'}`,\n          children: \"\\u4E2D\\u5FC3\\u50CF\\u7D20\\u62DF\\u5408\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('heatmap'),\n          className: `px-4 py-2 font-medium text-sm rounded-t-lg transition-colors ${activeTab === 'heatmap' ? 'bg-blue-500 text-white border-b-2 border-blue-500' : 'text-gray-600 hover:text-blue-500 hover:bg-gray-50'}`,\n          children: \"\\u50CF\\u7D20\\u70ED\\u529B\\u56FE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('grayscale'),\n          className: `px-4 py-2 font-medium text-sm rounded-t-lg transition-colors ${activeTab === 'grayscale' ? 'bg-blue-500 text-white border-b-2 border-blue-500' : 'text-gray-600 hover:text-blue-500 hover:bg-gray-50'}`,\n          children: \"\\u7070\\u9636\\u66F2\\u7EBF\\u6570\\u636E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), activeTab === 'heatmap' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-gray-700\",\n          children: \"\\u6570\\u636E\\u7C7B\\u578B:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setHeatmapDataType('original'),\n            className: `px-3 py-1 text-sm rounded-md transition-colors ${heatmapDataType === 'original' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n            children: \"\\u539F\\u59CB\\u6570\\u636E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setHeatmapDataType('normalized'),\n            className: `px-3 py-1 text-sm rounded-md transition-colors ${heatmapDataType === 'normalized' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n            children: \"\\u5F52\\u4E00\\u5316\\u6570\\u636E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), activeTab === 'center' && /*#__PURE__*/_jsxDEV(CurveFittingVisualization, {\n      centerPixelValues: centerPixelValues,\n      grayScaleValues: grayScaleValues,\n      brightnessBlocks: brightnessBlocks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 9\n    }, this), activeTab === 'heatmap' && /*#__PURE__*/_jsxDEV(PixelHeatmap, {\n      brightnessBlocks: brightnessBlocks,\n      grayScaleValues: grayScaleValues,\n      dataType: heatmapDataType,\n      onPositionSelect: (row, col) => {\n        console.log(`选中位置: (${row}, ${col})`);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 9\n    }, this), activeTab === 'grayscale' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"\\u7070\\u9636\\u66F2\\u7EBF\\u6570\\u636E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium mb-3\",\n          children: \"\\u7070\\u9636\\u503C\\u5E8F\\u5217\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-8 gap-2 text-sm\",\n            children: grayScaleValues.map((value, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white p-2 rounded border text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500\",\n                children: [\"#\", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: value.toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium mb-3\",\n          children: \"\\u7070\\u9636\\u53D8\\u5316\\u66F2\\u7EBF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"100%\",\n            height: \"300\",\n            viewBox: \"0 0 800 300\",\n            className: \"border border-gray-200 bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n              children: /*#__PURE__*/_jsxDEV(\"pattern\", {\n                id: \"grayscale-grid\",\n                width: \"40\",\n                height: \"30\",\n                patternUnits: \"userSpaceOnUse\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M 40 0 L 0 0 0 30\",\n                  fill: \"none\",\n                  stroke: \"#f3f4f6\",\n                  strokeWidth: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n              width: \"100%\",\n              height: \"100%\",\n              fill: \"url(#grayscale-grid)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n              x1: \"40\",\n              y1: \"20\",\n              x2: \"40\",\n              y2: \"280\",\n              stroke: \"#374151\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n              x1: \"40\",\n              y1: \"280\",\n              x2: \"760\",\n              y2: \"280\",\n              stroke: \"#374151\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this), grayScaleValues.length > 1 && (() => {\n              const minValue = Math.min(...grayScaleValues);\n              const maxValue = Math.max(...grayScaleValues);\n              const valueRange = maxValue - minValue || 1;\n              const xStep = 720 / (grayScaleValues.length - 1);\n              const pathData = grayScaleValues.map((value, index) => {\n                const x = 40 + index * xStep;\n                const y = 280 - (value - minValue) / valueRange * 260;\n                return `${index === 0 ? 'M' : 'L'} ${x} ${y}`;\n              }).join(' ');\n              return /*#__PURE__*/_jsxDEV(\"g\", {\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: pathData,\n                  fill: \"none\",\n                  stroke: \"#3b82f6\",\n                  strokeWidth: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 23\n                }, this), grayScaleValues.map((value, index) => {\n                  const x = 40 + index * xStep;\n                  const y = 280 - (value - minValue) / valueRange * 260;\n                  return /*#__PURE__*/_jsxDEV(\"g\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: x,\n                      cy: y,\n                      r: \"4\",\n                      fill: \"#3b82f6\",\n                      stroke: \"white\",\n                      strokeWidth: \"2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"title\", {\n                      children: `数据点 ${index + 1}: ${value.toFixed(2)}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 345,\n                      columnNumber: 29\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 27\n                  }, this);\n                }), [0, 0.25, 0.5, 0.75, 1].map(ratio => {\n                  const value = minValue + ratio * valueRange;\n                  const y = 280 - ratio * 260;\n                  return /*#__PURE__*/_jsxDEV(\"g\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"35\",\n                      y1: y,\n                      x2: \"45\",\n                      y2: y,\n                      stroke: \"#374151\",\n                      strokeWidth: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                      x: \"30\",\n                      y: y + 4,\n                      textAnchor: \"end\",\n                      className: \"text-xs fill-gray-600\",\n                      children: value.toFixed(1)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 29\n                    }, this)]\n                  }, ratio, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 27\n                  }, this);\n                }), grayScaleValues.map((_, index) => {\n                  if (index % Math.ceil(grayScaleValues.length / 10) === 0) {\n                    const x = 40 + index * xStep;\n                    return /*#__PURE__*/_jsxDEV(\"g\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                        x1: x,\n                        y1: \"275\",\n                        x2: x,\n                        y2: \"285\",\n                        stroke: \"#374151\",\n                        strokeWidth: \"1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 370,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                        x: x,\n                        y: \"295\",\n                        textAnchor: \"middle\",\n                        className: \"text-xs fill-gray-600\",\n                        children: index + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 31\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 369,\n                      columnNumber: 29\n                    }, this);\n                  }\n                  return null;\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 21\n              }, this);\n            })(), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: \"400\",\n              y: \"295\",\n              textAnchor: \"middle\",\n              className: \"text-sm fill-gray-600\",\n              children: \"\\u6570\\u636E\\u70B9\\u5E8F\\u53F7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: \"20\",\n              y: \"150\",\n              textAnchor: \"middle\",\n              className: \"text-sm fill-gray-600\",\n              transform: \"rotate(-90 20 150)\",\n              children: \"\\u7070\\u9636\\u503C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 p-3 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-blue-600 font-medium\",\n            children: \"\\u6570\\u636E\\u70B9\\u6570\\u91CF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-bold text-blue-800\",\n            children: grayScaleValues.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-50 p-3 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-green-600 font-medium\",\n            children: \"\\u6700\\u5C0F\\u503C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-bold text-green-800\",\n            children: grayScaleValues.length > 0 ? Math.min(...grayScaleValues).toFixed(2) : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 p-3 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-red-600 font-medium\",\n            children: \"\\u6700\\u5927\\u503C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-bold text-red-800\",\n            children: grayScaleValues.length > 0 ? Math.max(...grayScaleValues).toFixed(2) : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-purple-50 p-3 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-purple-600 font-medium\",\n            children: \"\\u5E73\\u5747\\u503C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-bold text-purple-800\",\n            children: grayScaleValues.length > 0 ? (grayScaleValues.reduce((a, b) => a + b, 0) / grayScaleValues.length).toFixed(2) : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n};\n_s(DataVisualization, \"Rt9EO+e42Mc+umNET6o34Y3eAG8=\");\n_c = DataVisualization;\nexport default DataVisualization;\nvar _c;\n$RefreshReg$(_c, \"DataVisualization\");","map":{"version":3,"names":["React","useState","useMemo","CurveFittingVisualization","PixelHeatmap","jsxDEV","_jsxDEV","DataVisualization","grayScaleData","brightnessBlocks","_s","showNormalizedData","setShowNormalizedData","activeTab","setActiveTab","heatmapDataType","setHeatmapDataType","centerPixelValues","grayScaleValues","centerValues","map","block","centerPixelValue","grayValues","values","slice","length","calculateNormalizedData","data","row","value","grayScaleChartData","index","position","positions","renderBrightnessBlock","blockIndex","_block$centerPixelVal","_block$centerPixelVal2","currentData","flatData","flat","maxValue","Math","max","minValue","min","avgValue","reduce","a","b","className","children","label","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","type","id","checked","onChange","e","target","htmlFor","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","style","maxHeight","Array","from","_","i","String","fromCharCode","rowIndex","startRow","colIndex","isCenter","intensity","backgroundColor","textColor","displayValue","abs","toExponential","color","fontSize","onClick","dataType","onPositionSelect","col","console","log","width","height","patternUnits","x1","y1","x2","y2","valueRange","xStep","pathData","x","y","join","cx","cy","r","ratio","textAnchor","ceil","transform","_c","$RefreshReg$"],"sources":["D:/source/fitdata/fitdata-visualizer/src/components/DataVisualization.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { GrayScaleData, BrightnessBlock } from '../utils/dataParser';\nimport CurveFittingVisualization from './CurveFittingVisualization';\nimport PixelHeatmap from './PixelHeatmap';\n\ninterface DataVisualizationProps {\n  grayScaleData: GrayScaleData;\n  brightnessBlocks: BrightnessBlock[];\n}\n\nconst DataVisualization: React.FC<DataVisualizationProps> = ({ grayScaleData, brightnessBlocks }) => {\n  const [showNormalizedData, setShowNormalizedData] = useState(false);\n  const [activeTab, setActiveTab] = useState<'center' | 'heatmap' | 'grayscale'>('center');\n  const [heatmapDataType, setHeatmapDataType] = useState<'original' | 'normalized'>('original');\n  \n  // 提取中心像素值和灰阶值用于曲线拟合\n  const { centerPixelValues, grayScaleValues } = useMemo(() => {\n    const centerValues = brightnessBlocks.map(block => block.centerPixelValue || 0);\n    const grayValues = grayScaleData.values.slice(0, brightnessBlocks.length);\n    return {\n      centerPixelValues: centerValues,\n      grayScaleValues: grayValues\n    };\n  }, [brightnessBlocks, grayScaleData]);\n\n  // 计算归一化数据（原始数据/中心像素数据）\n  const calculateNormalizedData = (block: BrightnessBlock) => {\n    if (!block.centerPixelValue || block.centerPixelValue === 0) {\n      return block.data; // 如果中心像素值为0，返回原始数据\n    }\n    return block.data.map(row => \n      row.map(value => value / block.centerPixelValue!)\n    );\n  };\n\n  // 准备灰阶数据用于图表显示\n  const grayScaleChartData = grayScaleData.values.map((value, index) => ({\n    index: index + 1,\n    value,\n    position: grayScaleData.positions[index]\n  }));\n\n  // 渲染亮度数据块的矩阵热力图\n  const renderBrightnessBlock = (block: BrightnessBlock, blockIndex: number) => {\n    const currentData = showNormalizedData ? calculateNormalizedData(block) : block.data;\n    const flatData = currentData.flat();\n    const maxValue = Math.max(...flatData);\n    const minValue = Math.min(...flatData);\n    const avgValue = flatData.reduce((a: number, b: number) => a + b, 0) / flatData.length;\n    \n    return (\n      <div key={blockIndex} className=\"mb-12\">\n        <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-2xl\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-xl font-bold\">{block.label}</h3>\n              <p className=\"text-blue-100 text-sm mt-1\">32列 × 20行数据矩阵</p>\n            </div>\n            <div className=\"text-sm bg-white bg-opacity-20 rounded-lg px-3 py-2\">\n              <div className=\"font-medium mb-1\">中心像素值:</div>\n              <div className=\"font-mono text-xs\">{block.centerPixelValue?.toFixed(6) || 'N/A'}</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white/90 backdrop-blur-sm p-6 rounded-b-2xl shadow-xl border border-gray-100\">\n          {/* 数据显示模式切换 */}\n          <div className=\"mb-6\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-2\">\n                <input \n                  type=\"checkbox\" \n                  id={`normalized-${blockIndex}`}\n                  checked={showNormalizedData}\n                  onChange={(e) => setShowNormalizedData(e.target.checked)}\n                  className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2\"\n                />\n                <label htmlFor={`normalized-${blockIndex}`} className=\"text-sm font-medium text-gray-600\">\n                  显示归一化数据 (原始数据/中心像素值)\n                </label>\n              </div>\n            </div>\n          </div>\n\n          {/* 矩阵热力图 */}\n          <div className=\"mb-6\">\n            <h4 className=\"text-lg font-semibold mb-4 text-gray-800 flex items-center\">\n              <svg className=\"w-5 h-5 mr-2 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n              </svg>\n              {showNormalizedData ? '归一化数据热力图' : '原始数据热力图'}\n            </h4>\n            <div className=\"bg-gray-50 rounded-xl p-6\">\n              <div className=\"overflow-auto bg-white rounded-lg border-2 border-gray-200 shadow-inner\" style={{ maxHeight: '600px' }}>\n                <div className=\"inline-block min-w-full\">\n                  {/* 列标题 */}\n                  <div className=\"flex sticky top-0 z-10 mb-1\">\n                    <div className=\"w-12 h-10 flex items-center justify-center text-xs font-bold text-gray-600 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 rounded-tl-lg sticky left-0 z-20\"></div>\n                    {Array.from({ length: 32 }, (_, i) => (\n                      <div key={i} className=\"w-12 h-10 flex items-center justify-center text-xs font-bold text-white bg-gradient-to-r from-blue-500 to-blue-600 border border-blue-400\">\n                        {String.fromCharCode(65 + i)}\n                      </div>\n                    ))}\n                  </div>\n                  {/* 矩阵数据 */}\n                  {currentData.map((row, rowIndex) => (\n                    <div key={rowIndex} className=\"flex mb-1\">\n                      {/* 行标题 */}\n                      <div className=\"w-12 h-10 flex items-center justify-center text-xs font-bold text-white bg-gradient-to-r from-purple-500 to-purple-600 border border-purple-400 sticky left-0 z-10\">\n                        {block.startRow + rowIndex}\n                      </div>\n                      {/* 数据单元格 */}\n                      {row.map((value, colIndex) => {\n                        const isCenter = rowIndex === 9 && colIndex === 15; // 中心像素位置\n                        // 计算颜色强度 (0-1)\n                        const intensity = maxValue > minValue ? (value - minValue) / (maxValue - minValue) : 0;\n                        const backgroundColor = value === 0 \n                          ? '#f8fafc' \n                          : `rgba(59, 130, 246, ${0.1 + intensity * 0.8})`; // 蓝色渐变\n                        const textColor = intensity > 0.7 ? '#ffffff' : '#1e293b';\n                        \n                        // 智能数值显示格式\n                        const displayValue = value === 0 ? '' : \n                          Math.abs(value) >= 1000 ? value.toExponential(2) :\n                          Math.abs(value) >= 1 ? value.toFixed(2) :\n                          Math.abs(value) >= 0.01 ? value.toFixed(4) :\n                          value.toExponential(2);\n                        \n                        return (\n                          <div\n                            key={`${rowIndex}-${colIndex}`}\n                            className={`w-12 h-10 flex items-center justify-center text-xs border cursor-pointer hover:border-blue-500 hover:shadow-lg transition-all duration-200 hover:scale-110 hover:z-30 relative group ${\n                              isCenter ? 'border-red-500 border-2 ring-2 ring-red-200' : 'border-gray-300'\n                            }`}\n                            style={{ backgroundColor, color: textColor }}\n                          >\n                            {/* 数值显示 */}\n                            {value !== 0 && (\n                              <span className=\"font-mono font-semibold text-center leading-tight\" style={{ fontSize: '10px' }}>\n                                {displayValue}\n                              </span>\n                            )}\n                            \n                            {/* 悬停提示框 */}\n                            <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-40\">\n                              <div className=\"font-semibold\">位置: {String.fromCharCode(65 + colIndex)}{block.startRow + rowIndex} {isCenter ? '(中心像素)' : ''}</div>\n                              <div className=\"font-mono\">值: {value.toFixed(6)}</div>\n                              {showNormalizedData && (\n                                <div className=\"font-mono text-yellow-300\">原始值: {block.data[rowIndex][colIndex].toFixed(6)}</div>\n                              )}\n                              <div className=\"text-gray-300\">强度: {(intensity * 100).toFixed(1)}%</div>\n                              {/* 箭头 */}\n                              <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"></div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* 数据统计 */}\n          <div className=\"mt-8\">\n            <h5 className=\"text-md font-semibold mb-4 text-gray-800 flex items-center\">\n              <svg className=\"w-4 h-4 mr-2 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n              </svg>\n              {showNormalizedData ? '归一化数据统计' : '原始数据统计'}\n            </h5>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-200\">\n              <div className=\"text-center p-3 bg-white rounded-lg shadow-sm\">\n                <div className=\"text-xs font-medium text-gray-500 mb-1\">最小值</div>\n                <div className=\"font-mono text-lg font-bold text-red-600\">{minValue.toFixed(6)}</div>\n              </div>\n              <div className=\"text-center p-3 bg-white rounded-lg shadow-sm\">\n                <div className=\"text-xs font-medium text-gray-500 mb-1\">最大值</div>\n                <div className=\"font-mono text-lg font-bold text-green-600\">{maxValue.toFixed(6)}</div>\n              </div>\n              <div className=\"text-center p-3 bg-white rounded-lg shadow-sm\">\n                <div className=\"text-xs font-medium text-gray-500 mb-1\">平均值</div>\n                <div className=\"font-mono text-lg font-bold text-blue-600\">{avgValue.toFixed(6)}</div>\n              </div>\n              <div className=\"text-center p-3 bg-white rounded-lg shadow-sm\">\n                <div className=\"text-xs font-medium text-gray-500 mb-1\">中心像素值</div>\n                <div className=\"font-mono text-lg font-bold text-purple-600\">{block.centerPixelValue?.toFixed(6) || 'N/A'}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* 标签页导航 */}\n      <div className=\"bg-white rounded-lg shadow-lg p-4\">\n        <div className=\"flex space-x-4 border-b border-gray-200\">\n          <button\n            onClick={() => setActiveTab('center')}\n            className={`px-4 py-2 font-medium text-sm rounded-t-lg transition-colors ${\n              activeTab === 'center'\n                ? 'bg-blue-500 text-white border-b-2 border-blue-500'\n                : 'text-gray-600 hover:text-blue-500 hover:bg-gray-50'\n            }`}\n          >\n            中心像素拟合\n          </button>\n          <button\n            onClick={() => setActiveTab('heatmap')}\n            className={`px-4 py-2 font-medium text-sm rounded-t-lg transition-colors ${\n              activeTab === 'heatmap'\n                ? 'bg-blue-500 text-white border-b-2 border-blue-500'\n                : 'text-gray-600 hover:text-blue-500 hover:bg-gray-50'\n            }`}\n          >\n            像素热力图\n          </button>\n          <button\n            onClick={() => setActiveTab('grayscale')}\n            className={`px-4 py-2 font-medium text-sm rounded-t-lg transition-colors ${\n              activeTab === 'grayscale'\n                ? 'bg-blue-500 text-white border-b-2 border-blue-500'\n                : 'text-gray-600 hover:text-blue-500 hover:bg-gray-50'\n            }`}\n          >\n            灰阶曲线数据\n          </button>\n        </div>\n        \n        {/* 热力图数据类型选择 */}\n        {activeTab === 'heatmap' && (\n          <div className=\"mt-4 flex items-center gap-4\">\n            <span className=\"text-sm font-medium text-gray-700\">数据类型:</span>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setHeatmapDataType('original')}\n                className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                  heatmapDataType === 'original'\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                原始数据\n              </button>\n              <button\n                onClick={() => setHeatmapDataType('normalized')}\n                className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                  heatmapDataType === 'normalized'\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                归一化数据\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* 内容区域 */}\n      {activeTab === 'center' && (\n        <CurveFittingVisualization \n          centerPixelValues={centerPixelValues}\n          grayScaleValues={grayScaleValues}\n          brightnessBlocks={brightnessBlocks}\n        />\n      )}\n      \n      {activeTab === 'heatmap' && (\n        <PixelHeatmap\n          brightnessBlocks={brightnessBlocks}\n          grayScaleValues={grayScaleValues}\n          dataType={heatmapDataType}\n          onPositionSelect={(row, col) => {\n            console.log(`选中位置: (${row}, ${col})`);\n          }}\n        />\n      )}\n      \n      {activeTab === 'grayscale' && (\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">灰阶曲线数据</h3>\n          \n          {/* 灰阶数据表格 */}\n          <div className=\"mb-6\">\n            <h4 className=\"font-medium mb-3\">灰阶值序列</h4>\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\n              <div className=\"grid grid-cols-8 gap-2 text-sm\">\n                {grayScaleValues.map((value, index) => (\n                  <div key={index} className=\"bg-white p-2 rounded border text-center\">\n                    <div className=\"text-xs text-gray-500\">#{index + 1}</div>\n                    <div className=\"font-medium\">{value.toFixed(2)}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n          \n          {/* 灰阶曲线图 */}\n          <div className=\"mb-4\">\n            <h4 className=\"font-medium mb-3\">灰阶变化曲线</h4>\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\n              <svg width=\"100%\" height=\"300\" viewBox=\"0 0 800 300\" className=\"border border-gray-200 bg-white\">\n                {/* 网格线 */}\n                <defs>\n                  <pattern id=\"grayscale-grid\" width=\"40\" height=\"30\" patternUnits=\"userSpaceOnUse\">\n                    <path d=\"M 40 0 L 0 0 0 30\" fill=\"none\" stroke=\"#f3f4f6\" strokeWidth=\"1\"/>\n                  </pattern>\n                </defs>\n                <rect width=\"100%\" height=\"100%\" fill=\"url(#grayscale-grid)\" />\n                \n                {/* 坐标轴 */}\n                <line x1=\"40\" y1=\"20\" x2=\"40\" y2=\"280\" stroke=\"#374151\" strokeWidth=\"2\" />\n                <line x1=\"40\" y1=\"280\" x2=\"760\" y2=\"280\" stroke=\"#374151\" strokeWidth=\"2\" />\n                \n                {/* 灰阶曲线 */}\n                {grayScaleValues.length > 1 && (() => {\n                  const minValue = Math.min(...grayScaleValues);\n                  const maxValue = Math.max(...grayScaleValues);\n                  const valueRange = maxValue - minValue || 1;\n                  const xStep = 720 / (grayScaleValues.length - 1);\n                  \n                  const pathData = grayScaleValues.map((value, index) => {\n                    const x = 40 + index * xStep;\n                    const y = 280 - ((value - minValue) / valueRange) * 260;\n                    return `${index === 0 ? 'M' : 'L'} ${x} ${y}`;\n                  }).join(' ');\n                  \n                  return (\n                    <g>\n                      {/* 曲线 */}\n                      <path d={pathData} fill=\"none\" stroke=\"#3b82f6\" strokeWidth=\"3\" />\n                      \n                      {/* 数据点 */}\n                      {grayScaleValues.map((value, index) => {\n                        const x = 40 + index * xStep;\n                        const y = 280 - ((value - minValue) / valueRange) * 260;\n                        return (\n                          <g key={index}>\n                            <circle cx={x} cy={y} r=\"4\" fill=\"#3b82f6\" stroke=\"white\" strokeWidth=\"2\" />\n                            <title>{`数据点 ${index + 1}: ${value.toFixed(2)}`}</title>\n                          </g>\n                        );\n                      })}\n                      \n                      {/* Y轴刻度 */}\n                      {[0, 0.25, 0.5, 0.75, 1].map(ratio => {\n                        const value = minValue + ratio * valueRange;\n                        const y = 280 - ratio * 260;\n                        return (\n                          <g key={ratio}>\n                            <line x1=\"35\" y1={y} x2=\"45\" y2={y} stroke=\"#374151\" strokeWidth=\"1\" />\n                            <text x=\"30\" y={y + 4} textAnchor=\"end\" className=\"text-xs fill-gray-600\">\n                              {value.toFixed(1)}\n                            </text>\n                          </g>\n                        );\n                      })}\n                      \n                      {/* X轴刻度 */}\n                      {grayScaleValues.map((_, index) => {\n                        if (index % Math.ceil(grayScaleValues.length / 10) === 0) {\n                          const x = 40 + index * xStep;\n                          return (\n                            <g key={index}>\n                              <line x1={x} y1=\"275\" x2={x} y2=\"285\" stroke=\"#374151\" strokeWidth=\"1\" />\n                              <text x={x} y=\"295\" textAnchor=\"middle\" className=\"text-xs fill-gray-600\">\n                                {index + 1}\n                              </text>\n                            </g>\n                          );\n                        }\n                        return null;\n                      })}\n                    </g>\n                  );\n                })()}\n                \n                {/* 坐标轴标签 */}\n                <text x=\"400\" y=\"295\" textAnchor=\"middle\" className=\"text-sm fill-gray-600\">\n                  数据点序号\n                </text>\n                <text x=\"20\" y=\"150\" textAnchor=\"middle\" className=\"text-sm fill-gray-600\" transform=\"rotate(-90 20 150)\">\n                  灰阶值\n                </text>\n              </svg>\n            </div>\n          </div>\n          \n          {/* 统计信息 */}\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"bg-blue-50 p-3 rounded-lg\">\n              <div className=\"text-sm text-blue-600 font-medium\">数据点数量</div>\n              <div className=\"text-lg font-bold text-blue-800\">{grayScaleValues.length}</div>\n            </div>\n            <div className=\"bg-green-50 p-3 rounded-lg\">\n              <div className=\"text-sm text-green-600 font-medium\">最小值</div>\n              <div className=\"text-lg font-bold text-green-800\">\n                {grayScaleValues.length > 0 ? Math.min(...grayScaleValues).toFixed(2) : 'N/A'}\n              </div>\n            </div>\n            <div className=\"bg-red-50 p-3 rounded-lg\">\n              <div className=\"text-sm text-red-600 font-medium\">最大值</div>\n              <div className=\"text-lg font-bold text-red-800\">\n                {grayScaleValues.length > 0 ? Math.max(...grayScaleValues).toFixed(2) : 'N/A'}\n              </div>\n            </div>\n            <div className=\"bg-purple-50 p-3 rounded-lg\">\n              <div className=\"text-sm text-purple-600 font-medium\">平均值</div>\n              <div className=\"text-lg font-bold text-purple-800\">\n                {grayScaleValues.length > 0 \n                  ? (grayScaleValues.reduce((a, b) => a + b, 0) / grayScaleValues.length).toFixed(2) \n                  : 'N/A'\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DataVisualization;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}